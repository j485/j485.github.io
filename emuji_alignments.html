<!DOCTYPE html>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script>
$.ajax({
    url: "https://api.spotify.com/v1/playlists/2fc01PXOTtx6qBKYLRL1zb",
    beforeSend: function(xhr) {
         xhr.setRequestHeader("Accept", "application/json")
         xhr.setRequestHeader("Content-Type", "application/json")
         xhr.setRequestHeader("Authorization", "Bearer BQClAhg3iDdTLROEQ2Z9KLSQDLwrYiiTjwr6-QdVCgf00tF7I22PG4dRAi-Cqoni0EYt5yG-YFcG-ZhsZVd12-uzKTFFLpp0tXrDKRnN_BBe228WXq2zWq5-EsQpHZYYao7uzLpdjud0-GeDdQNzFE0")
    }, success: function(data){
        var playlistInfo = [];
        let trackList = [];
        for (const i in data.tracks.items){
            trackInfo = [];
            trackInfo.push(data.tracks.items[i].track.album.artists[0].name);
            trackInfo.push(data.tracks.items[i].track.name);
            trackInfo.push(data.tracks.items[i].track.uri);
             const track = {
                 artist: data.tracks.items[i].track.album.artists[0].name,
                 trackName: data.tracks.items[i].track.name,
                 uri: data.tracks.items[i].track.uri
             }
             trackList.push(track);

            //str = (getValuePathInObject(emojilist, data.tracks.items[i].track.uri));
            //jsonId = str[0].split("/")[1];
            // document.write(emojilist["Emoji"][jsonId]);
            // trackInfo.push(emojilist["Emoji"][jsonId]);
            playlistInfo.push(trackInfo);
        //process the JSON data etc
        }
        const titleId = document.getElementById('title')
        const artistId = document.getElementById('artist')
        
        const buildInfo = (parent, info) => {
            const t = document.createElement("p")
            t.style.margin = '20px 2px'
            t.appendChild(document.createTextNode(info))
            //console.log("Track: ", track)
            parent.appendChild(t)
        }
        
        trackList.forEach( track => {
            buildInfo(titleId, track.trackName)
            buildInfo(artistId, track.artist)
        })

        console.log("Track list: ", trackList)
        //document.getElementById('play1').innerHTML = playlistInfo[0][0];
    }
})
</script>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
        <!-- stytle documentation at http://getbootstrap.com/docs/4.1/, alternative themes at https://bootswatch.com/ -->
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">
		<!-- jQuery first, then Popper.js, then Bootstrap JS -->
        <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
        <!-- customized stylesheet-->
  <!--      <link href="/static/styles.css" rel="stylesheet">-->
        <!-- webpage icon -->
        <link href="/logo_only.ico" rel="icon">
        <!--p5 library-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/p5.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/addons/p5.dom.min.js"></script>
        <!-- p5.touchgui -->
  <!--      <script src="https://unpkg.com/p5.touchgui@0.5.2/lib/p5.touchgui.js"></script>-->
        <!-- independent js file-->
        <script src="javascripts.js"></script>
        <!--<script {% block script %}{% endblock %} ></script>-->
        <!--title -->
        <title>em√ºji</title>
        <!-- come with responsive multi-level menu effect -->
  <!--      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">-->
  <!--      <link rel="stylesheet" type="text/css" href="/static/css/default.css" />-->
		<!--<link rel="stylesheet" type="text/css" href="/static/css/component.css" />-->
    </head>
    <body style="background-color:#FFC83D;">
        <div style="margin:30px 0px;padding:30px 30px;width:50%;height:92%;background-color:white; position:absolute;right:50%;transform:translate(50%, 0%);">
            <img src="/logo_h.png" alt="logo" style="width:10%;position:absolute;right:50%;transform:translate(50%,0%);">
            <div style="text-align:center;margin-top:20%;">
                <div class="row" style="color:#FFC83D;text-align:center;">
                    <div class="col-2">
                        <p style="color:black">Emoji</p>
                        <div>
                            <button onmouseover="PlaySound('mySound')" onmouseout="StopSound('mySound')" type="button" class="btn btn-light" style="margin:2px 2px;">&#x1F600;</button>
                        </div>
                        <audio id='mySound' src='test.mp3'></audio>
                        <div><button type="button" class="btn btn-light" style="margin:2px 2px;">&#x1F600;</button></div>
                        <div><button type="button" class="btn btn-light" style="margin:2px 2px;">&#x1F600;</button></div>
                        <div><button type="button" class="btn btn-light" style="margin:2px 2px;">&#x1F600;</button></div>
                        <div><button type="button" class="btn btn-light" style="margin:2px 2px;">&#x1F600;</button></div>
                        <div><button type="button" class="btn btn-light" style="margin:2px 2px;">&#x1F600;</button></div>
                    </div>
                    <div id="title" class="col-4">
                        <p style="color:black">Title</p>
                    </div>
                    <div id="artist" class="col-4">
                        <p style="color:black">Artist</p>
                    </div>
                    <div class="col-2">
                        <p style="color:black">Share</p>
                        <button type="button" class="btn btn-warning" style="margin:2px 2px;" onclick="share()">Share</button>
                        <button type="button" class="btn btn-warning" style="margin:2px 2px;">Share</button>
                        <button type="button" class="btn btn-warning" style="margin:2px 2px;">Share</button>
                        <button type="button" class="btn btn-warning" style="margin:2px 2px;">Share</button>
                        <button type="button" class="btn btn-warning" style="margin:2px 2px;">Share</button>
                        <button type="button" class="btn btn-warning" style="margin:2px 2px;">Share</button>
                    </div>
                </div>
            </div>
        </div>

    </body>
</html>